<html lang="en">
    <head>
        <%- include('./partials/head.ejs') %>
        <link href="/css/register.css" type="text/css">
        <title>Registrarse</title>
    </head>
    <body>
        <!-- Header -->
        <%- include('./partials/header.ejs')%>
        <main class="main-login">
            <div class="login">
                <h1>Registrarse</h1>
                <form action="/users/register" method="post" enctype="multipart/form-data" class="reservation">
                <p>
                    <label for="nombre">Nombre</label>   
                    <input 
                    type="text" 
                    name="userName"   
                    class="form-control nombre <%= locals.errors && errors.userName ? 'is-invalid': null %>" 
                    value="<%= locals.oldData ? oldData.userName : null %>"
                    >
                    <span></span>
                    <% if (locals.errors && errors.userName){ %>
                        <div class="text-error">
                            <%= errors.userName.msg %>
                        </div>
                  <% } %> 
                </p>
                <p>
                    <label for="apellido">Apellido</label>   
                    <input 
                    type="text" 
                    name="userLastN" 
                    class="form-control apellido <%= locals.errors && errors.userLastN ? 'is-invalid apellido': null %>"
                    value="<%= locals.oldData ? oldData.userLastN : null %>"
                    >
                    <span></span>
                    <% if (locals.errors && errors.userLastN){ %>
                        <div class="text-error">
                            <%= errors.userLastN.msg %>
                        </div>
                  <% } %> 
                </p>
                <p>
                    <label for="email">Email</label>   
                    <input 
                    name="userEmail" 
                    class="form-control email<%= locals.errors && errors.userEmail ? 'is-invalid email': null %>"
                    value="<%= locals.oldData ? oldData.userEmail : null %>"
                    >
                    <span></span>
                    <% if (locals.errors && errors.userEmail){ %>
                        <div class="text-error">
                            <%= errors.userEmail.msg %>
                        </div>
                  <% } %> 
                </p>
                <p>
                    <label for="password">Contraseña</label>
                    <input 
                    type="password" 
                    name="userPass"
                    class="form-control contraseña<%= locals.errors && errors.userPass ? 'is-invalid': null %>"
                    value="<%= locals.oldData ? oldData.userPass : null %>"
                    >
                    <span class = "small"></span>
                    <% if (locals.errors && errors.userPass){ %>
                        <div class="text-error">
                            <%= errors.userPass.msg %>
                        </div>
                  <% } %> 
                </p>
                <p>
                    <label for="category">Categoria:</label>
                    <select 
                    name="userCategory" 
                    id="category" 
                    class="form-control <%= locals.errors && errors.userCategory ? 'is-invalid': null %>" 
                    value="<%= locals.oldData ? oldData.userCategory : null %>">
                        <option value="User" selected>Usuario</option>
                        <option value="Admin"selected>Admin</option>
                    </select>
                    <% if (locals.errors && errors.userCategory){ %>
                        <div class="text-error">
                            <%= errors.userCategory.msg %>
                        </div>
                  <% } %> 
                </p>
                <p>
                    <label>Subir Imagen</label>
                    <input 
                    type="file" 
                    name="userImage">
                    <% if (locals.errors && errors.userImage){ %>
                        <div class="text-error">
                            <%= errors.userImage.msg %>
                        </div>
                  <% } %> 
                </p>
                <input type="submit" value="Registrate" class="registro send">
                <input type="reset" value="Limpiar" class="registro">
            </form>
            <span class ="formNotSend"></span>
            </div>
        </main>
        <script type="text/javascript" src="/js/registerValidation.js"> </script>
    </body>
    </html>